<mvc:View xmlns:layout="sap.ui.layout" controllerName="com.geonosis.shop.e.shop.geonosis.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:l="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:core="sap.ui.core"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}" showHeader="false">
      <content>
    <core:Fragment fragmentName="com.geonosis.shop.e.shop.geonosis.view.Header" type="XML" />

    <Carousel 
      id="main-carousel-info-pictures"
      height="40%"
      showPageIndicator="false"
      loop="true"
      pages="{view>/images}">
      <VBox id="vbox-carousel-imgs" renderType="Bare" height="100%">
          <Image
              id="carousel-imgs"
              mode="Background"
              backgroundPosition="center"
              backgroundSize="contain"
              src="{view>src}"
              width="100%"
              height="100%" />
      </VBox>
    </Carousel>

    <Panel id="panel-carousel-prods-main"
      backgroundDesign="Transparent"
      class="sapUiSmallMarginTopBottom">
      <headerToolbar>
        <OverflowToolbar id="panel-toolbar-carousel-prods-main" 
          height="3rem" >
          <Title id="panel-toolbar-title-carousel-prods-main" text="Feacture Products"/>
          <ToolbarSpacer id="panel-space-center-prods-main"></ToolbarSpacer>
          <HBox  alignItems="Center"></HBox>
        </OverflowToolbar>
      </headerToolbar>
      <content>
        <Carousel 
          height="25rem"
          showPageIndicator="false"
          loop="true"
          pages="{feactureProductsModel>/products}"
          backgroundDesign="Solid"

          beforePageChanged="onCarouselNavigate">
          <customLayout>
            <CarouselLayout id="carousel-layout-cards-main" visiblePagesCount="5" scrollMode="VisiblePages"/>
          </customLayout>
          <f:Card id="card-item-carousel-main"
            height="100%"
            headerPosition="Bottom">
            <f:content>
              <VBox id="vbox-card-item-content-main"
                class="imageContainer"
                >
                <Image id="img-poly-card-item"
                  src="{feactureProductsModel>image}"
                  height="200px"
                  >
                </Image>
                <Text id="title-poly-card-item" text="{feactureProductsModel>name}"></Text>
                <Text id="descr-poly-card-item" text="{feactureProductsModel>descrption}"></Text>
                <HBox >
                <Text id="price-poly-card-item" text="{feactureProductsModel>price}"></Text>
                <Text id="curr-poly-card-item" text="{feactureProductsModel>currency}"></Text>
                </HBox>
                <Text id="stock-poly-card-item" text="{feactureProductsModel>stock}"></Text>
                <HBox >
                <Button id="btn-add-poly-card-item" text="Add to cart"></Button>
                <Button id="btn-buy-poly-card-item" text="But now"></Button>
                </HBox>
              </VBox>
            </f:content>
          </f:Card>
        </Carousel>
      </content>
    </Panel>

      <VBox id="category-panels" items="{topSellingByCategoryModel>/categories}" class="sapUiNoMargin">
        <Panel headerText="{topSellingByCategoryModel>name}" backgroundDesign="Transparent" >
          <Carousel
            height="25rem"
            showPageIndicator="false"
            loop="true"
            backgroundDesign="Solid"
            pages="{topSellingByCategoryModel>topProducts}">
            <customLayout>
            <CarouselLayout  visiblePagesCount="5" scrollMode="VisiblePages"/>
            </customLayout>
            <f:Card height="100%" headerPosition="Bottom">
              <f:content>
                <VBox class="imageContainer">
                  <Image src="{topSellingByCategoryModel>image}" height="200px"/>
                  <Text text="{topSellingByCategoryModel>name}"/>
                  <Text text="{topSellingByCategoryModel>descrption}"/>
                  <Text text="{topSellingByCategoryModel>price}"/>
                  <Text text="{topSellingByCategoryModel>currency}"/>
                  <Text text="{topSellingByCategoryModel>stock}"/>
                  <Button text="Add to cart"/>
                  <Button text="Buy now"/>
                </VBox>
              </f:content>
            </f:Card>
          </Carousel>
        </Panel>
      </VBox>

      <Panel 
      backgroundDesign="Transparent"
      class="sapUiSmallMarginTopBottom">
      <headerToolbar>
        <OverflowToolbar 
          height="3rem" >
          <Title  text="Products"/>
          <ToolbarSpacer ></ToolbarSpacer>
          <HBox id="carousel-page-indicator" alignItems="Center"></HBox>
        </OverflowToolbar>
      </headerToolbar>
      <content>
        <Carousel id="carousel-card-item"
          height="25rem"
          showPageIndicator="false"
          loop="false"
          pages="{productsModel>/products}"
          backgroundDesign="Solid">
          <customLayout>
            <CarouselLayout  visiblePagesCount="5" scrollMode="VisiblePages"/>
          </customLayout>
          <f:Card 
            height="100%"
            headerPosition="Bottom">
            <f:content>
              <VBox 
                class="imageContainer"
                >
                <Image 
                  src="{productsModel>image}"
                  height="200px"
                  >
                </Image>
                <Text  text="{productsModel>name}"></Text>
                <Text  text="{productsModel>descrption}"></Text>
                <Text  text="{productsModel>price}"></Text>
                <Text  text="{productsModel>currency}"></Text>
                <Text  text="{productsModel>stock}"></Text>
                <Button  text="Add to cart"></Button>
                <Button  text="But now"></Button>
              </VBox>
            </f:content>
          </f:Card>
        </Carousel>
      </content>
    </Panel>
    </content>
    </Page>
</mvc:View>